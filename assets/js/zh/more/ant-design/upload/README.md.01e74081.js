(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{564:function(e,a,n){"use strict";n.r(a),function(e){n.d(a,"default",(function(){return l}));var t,c=n(148),s=(n(381),n(0),n(149)),o=["components"];function p(){return(p=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function m(e,a){if(null==e)return{};var n,t,c=function(e,a){if(null==e)return{};var n,t,c={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||(c[n]=e[n]);return c}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var b,r,N={};function l(e){var a=e.components,n=m(e,o);return Object(s.b)("wrapper",p({},N,n,{components:a,mdxType:"MDXLayout"}),Object(s.b)("h1",{className:"__internal",id:"upload-上传"},"Upload 上传",Object(s.b)("a",{parentName:"h1",href:"#upload-%E4%B8%8A%E4%BC%A0","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("h2",{className:"__internal",id:"1-组件上传逻辑"},"1. 组件上传逻辑",Object(s.b)("a",{parentName:"h2",href:"#1-%E7%BB%84%E4%BB%B6%E4%B8%8A%E4%BC%A0%E9%80%BB%E8%BE%91","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token number"},"1."),"做一个漂亮的 上传 按钮\n",Object(s.b)("span",{parentName:"code",className:"token number"},"2."),"模拟点击事件\n",Object(s.b)("span",{parentName:"code",className:"token number"},"3."),"change 事件 input type",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),"file 元素的 files",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]")," 属性\n",Object(s.b)("span",{parentName:"code",className:"token number"},"4."),"生成内存地址 ",Object(s.b)("span",{parentName:"code",className:"token constant"},"URL"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"creareObjectURL"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"files",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),"  让img",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"src ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," xxx\n",Object(s.b)("span",{parentName:"code",className:"token number"},"5."),"上传图片\n  ",Object(s.b)("span",{parentName:"code",className:"token parameter"},Object(s.b)("span",{parentName:"span",className:"token constant"},"A"))," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," 二进制形式 以multpart",Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),"form",Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),"data\n  ",Object(s.b)("span",{parentName:"code",className:"token parameter"},Object(s.b)("span",{parentName:"span",className:"token constant"},"B"))," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," 转换成 Base64位字符串 传给服务器"))),Object(s.b)("h2",{className:"__internal",id:"2与form结合-注意事项"},"2.与Form结合 注意事项",Object(s.b)("a",{parentName:"h2",href:"#2%E4%B8%8Eform%E7%BB%93%E5%90%88-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token comment"},"// 注意需要给 Form.Item 配置 valuePropName 和 getValueFromEvent"),"\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"normFile")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"e"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"Array",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"isArray"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"e",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," e",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," e ",Object(s.b)("span",{parentName:"code",className:"token operator"},"&&")," e",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"fileList",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"Form",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"Item\n    label",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"选择文件"'),"\n    name",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"uploadFile"'),"\n    rules",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),"\n              ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                required",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"true"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n                message",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'请上传 .xls, .xlsx 格式的文件'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n              ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n          ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    valuePropName",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"fileList"'),"\n    getValueFromEvent",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"normFile",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"Upload\n        beforeUpload",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"file"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n            ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"false"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n        name",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token string"},"'file'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n        listType",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token string"},"'text'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n        accept",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'".xls, .xlsx"'),"\n        maxCount",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n          ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"Button icon",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"UploadOutlined ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),Object(s.b)("span",{parentName:"code",className:"token operator"},">"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"选择文件",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),"Button",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),"Upload",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),"Form",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"Item",Object(s.b)("span",{parentName:"code",className:"token operator"},">")))),Object(s.b)("h2",{className:"__internal",id:"3upload-props"},"3.upload props",Object(s.b)("a",{parentName:"h2",href:"#3upload-props","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"# upload\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"import")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{")," Upload ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"from")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'antd'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"Upload\n## 基础属性\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 上传的地址 "),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 如果不写的话 线上环境会默认请求这个地址 需要后端对一个指定的 接口 返回一个空字符串"),"\n  action ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token string"},'"htttp://xxx"')," \n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 设置请求头"),"\n  headers",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{")," authorization",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'xxx'")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 限制上传数量"),"\n   maxCount",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")," \n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 支持多选"),"\n  multiple\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 限制文件类型"),"\n  accept",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},"'.xls, .xlsx'"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 关闭文件信息显示"),"\n  showUploadList",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"false")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 上传一个文件内所有文件"),"\n  directory\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 进度条 和 显示风格"),"\n  listType",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},"'text | picture | picture-card'"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 自定义 最右侧交互图标"),"\n  showUploadList ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    showDownloadIcon",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"true"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    downloadIcon",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'download '"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    showRemoveIcon",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"true"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    removeIcon",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"自定义Icon onClick",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token parameter"},"e")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),"  ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 自定义进度条样式 "),"\n  progress",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    strokeColor",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token string"},"'0%'"),Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'#108ee9'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",Object(s.b)("span",{parentName:"code",className:"token string"},"'100%'"),Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'#87d068'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    strokeWidth",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"3"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"format"),Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token parameter"},"percent")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," \n       ",Object(s.b)("span",{parentName:"code",className:"token template-string"},Object(s.b)("span",{parentName:"span",className:"token template-punctuation string"},"`"),Object(s.b)("span",{parentName:"span",className:"token interpolation"},Object(s.b)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),Object(s.b)("span",{parentName:"span",className:"token function"},"parseFloat"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},"("),"percent",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"span",className:"token function"},"toFixed"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"span",className:"token number"},"2"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),Object(s.b)("span",{parentName:"span",className:"token string"},"%"),Object(s.b)("span",{parentName:"span",className:"token template-punctuation string"},"`")),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 默认已经上传的文件列表"),"\n  defaultFileList",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      uid",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token string"},'"1"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n      name",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token string"},'""'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n      status",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token string"},'"done"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n      response",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token string"},'"Server Error 500"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n      url",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token string"},'"xxx"'),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),"\n  \n## 事件\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 改变事件"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"-")," onChange",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"info"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),"\n       info",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"status ",Object(s.b)("span",{parentName:"code",className:"token operator"},"==")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'uploading |done|error'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// beforeUpload 限制图片大小和格式 或者 加水印"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 这里 return false 就不显示进度条"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 需要在这里 return false 不然公网上会报405"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"-")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"beforeUpload"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"file"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n     file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"type ",Object(s.b)("span",{parentName:"code",className:"token operator"},"==")," ",Object(s.b)("span",{parentName:"code",className:"token string"},'"images/jpeg"'),"\n     file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"size ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"1024")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"1024")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"2")," \n     ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"type ",Object(s.b)("span",{parentName:"code",className:"token operator"},"===")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'image/png'")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"?")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"true")," \n         ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," Upload",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token constant"},"LIST_IGNORE"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"//  预览事件"),"\n  onPreview",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"file"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"//  移除文件的回调"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token function"},"onRemove"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 文件拖拽进上传区域的回调"),"\n  onDrop\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 下载文件的回调"),"\n  onDownload\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),Object(s.b)("span",{parentName:"code",className:"token operator"},">")))),Object(s.b)("h2",{className:"__internal",id:"4拖拽上传与排序"},"4.拖拽上传与排序",Object(s.b)("a",{parentName:"h2",href:"#4%E6%8B%96%E6%8B%BD%E4%B8%8A%E4%BC%A0%E4%B8%8E%E6%8E%92%E5%BA%8F","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"# 拖拽上传\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{")," Dragger ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," Upload",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"Dragger \n  ",Object(s.b)("span",{parentName:"code",className:"token function"},"onDrop"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"e"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n# 上传列表拖拽排序\nreact",Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),"dnd "))),Object(s.b)("h2",{className:"__internal",id:"5上传前裁切图片"},"5.上传前裁切图片",Object(s.b)("a",{parentName:"h2",href:"#5%E4%B8%8A%E4%BC%A0%E5%89%8D%E8%A3%81%E5%88%87%E5%9B%BE%E7%89%87","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"# 上传前裁切图片\nyarn add antd",Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),"img",Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),"crop\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"import")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'antd/es/modal/style'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"import")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'antd/es/slider/style'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"import")," ImgCrop ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"from")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'antd-img-crop'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"ImgCrop\n   ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 添加 旋转 网格 功能 "),"\n   rotate\n   grid\n   ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 裁切形状 图片质量"),"\n   shape",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},"'rect | round'"),"\n   quality",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n   ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 弹窗标题 弹窗宽度 弹窗确定文字 弹窗取消文字"),"\n   modalTitle",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},"'编辑图片'"),"\n   modalWidth",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token number"},"520"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n   modalOk",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},"'确定'"),"\n   modalCancel",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},"'取消'"),"\n   ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 点击确定 取消的 事件"),"\n   onModalOK\n   onModalCancel\n ",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n   ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"Upload",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),Object(s.b)("span",{parentName:"code",className:"token operator"},"+")," Add image",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),"Upload",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),"ImgCrop",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"onPreview")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"async")," ",Object(s.b)("span",{parentName:"code",className:"token parameter"},"file")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"let")," src ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"url",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token operator"},"!"),"src",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    src ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"await")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(s.b)("span",{parentName:"code",className:"token class-name"},"Promise"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"resolve")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," reader ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(s.b)("span",{parentName:"code",className:"token class-name"},"FileReader"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n      reader",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"readAsDataURL"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"originFileObj",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n      reader",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"onload")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),"          \n           ",Object(s.b)("span",{parentName:"code",className:"token function"},"resolve"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"reader",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"result",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n   ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n   ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," image ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(s.b)("span",{parentName:"code",className:"token class-name"},"Image"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n   image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"src ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," src",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n   ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," imgWindow ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," window",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"open"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"src",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n   imgWindow",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"document",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"write"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"outerHTML",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("h2",{className:"__internal",id:"6图片加水印"},"6.图片加水印",Object(s.b)("a",{parentName:"h2",href:"#6%E5%9B%BE%E7%89%87%E5%8A%A0%E6%B0%B4%E5%8D%B0","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"# 图片加水印\n",Object(s.b)("span",{parentName:"code",className:"token function"},"beforupload"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"file"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{")," \n ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(s.b)("span",{parentName:"code",className:"token class-name"},"Promise"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"resolve"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," reader ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(s.b)("span",{parentName:"code",className:"token class-name"},"FileReader"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    reader",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"readAsDataURL"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),"\n    reader",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"onload"),Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," img ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," document",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"createElement"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},"'img'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n        img",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"src ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," reader",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"result",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n        img",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"onload"),Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n          ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," canvas ",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),"   \n              document",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"createElement"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},"'canvas'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n          canvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," img",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"naturalWidth",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n          canvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," img",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"naturalHeight",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n          ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," ctx ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," canvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"getContext"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},"'2d'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n          ctx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"drawImage"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"img",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n          ctx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"fillStyle ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'red'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n          ctx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"textBaseline ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'middle'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n          ctx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"font ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'33px Arial'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n          ctx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"fillText"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},"'Ant Design'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"20"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"20"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n          canvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"toBlob"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"resolve",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")))),Object(s.b)("h2",{className:"__internal",id:"7excel-demo"},"7.excel demo",Object(s.b)("a",{parentName:"h2",href:"#7excel-demo","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("h3",{className:"__internal",id:"component"},"component",Object(s.b)("a",{parentName:"h3",href:"#component","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"normFile")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"e"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"Array",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"isArray"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"e",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," e",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," e ",Object(s.b)("span",{parentName:"code",className:"token operator"},"&&")," e",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"fileList",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"Form",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"Item\n  valuePropName",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"fileList"'),"\n  label",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"选择文件"'),"\n  name",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"uploadFile"'),"\n  required\n  getValueFromEvent",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"normFile",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"Upload\n    ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// name={'file'}"),"\n    listType",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},"'text'"),"\n    action",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"/dpm/customerProblemImport/importExcel"'),"\n    accept",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'".xls, .xlsx"'),"\n    maxCount",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    beforeUpload",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"file"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"true"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    showUploadList",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      showRemoveIcon",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"true"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n      removeIcon",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"\n        ",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"CloseOutlined\n          onClick",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"e"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," console",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"log"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"e",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'custom removeIcon event'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    progress",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      strokeColor",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token string"},"'0%'"),Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'#229DED'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",Object(s.b)("span",{parentName:"code",className:"token string"},"'100%'"),Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'#229DED'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n      strokeWidth",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"2"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"format"),Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"percent"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token template-string"},Object(s.b)("span",{parentName:"span",className:"token template-punctuation string"},"`"),Object(s.b)("span",{parentName:"span",className:"token interpolation"},Object(s.b)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),Object(s.b)("span",{parentName:"span",className:"token function"},"parseFloat"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},"("),"percent",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"span",className:"token function"},"toFixed"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"span",className:"token number"},"0"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),Object(s.b)("span",{parentName:"span",className:"token string"},"%"),Object(s.b)("span",{parentName:"span",className:"token template-punctuation string"},"`")),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    onChange",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"info"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"info",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"status ",Object(s.b)("span",{parentName:"code",className:"token operator"},"!==")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'uploading'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        console",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"log"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"info",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," info",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"fileList",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"info",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"status ",Object(s.b)("span",{parentName:"code",className:"token operator"},"===")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'done'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        message",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"success"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"\n          ",Object(s.b)("span",{parentName:"code",className:"token template-string"},Object(s.b)("span",{parentName:"span",className:"token template-punctuation string"},"`"),Object(s.b)("span",{parentName:"span",className:"token interpolation"},Object(s.b)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),"info",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"."),"file",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"."),"name",Object(s.b)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),Object(s.b)("span",{parentName:"span",className:"token string"}," file uploaded successfully"),Object(s.b)("span",{parentName:"span",className:"token template-punctuation string"},"`")),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"else")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"info",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"status ",Object(s.b)("span",{parentName:"code",className:"token operator"},"===")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'error'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        message",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"error"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token template-string"},Object(s.b)("span",{parentName:"span",className:"token template-punctuation string"},"`"),Object(s.b)("span",{parentName:"span",className:"token interpolation"},Object(s.b)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),"info",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"."),"file",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"."),"name",Object(s.b)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),Object(s.b)("span",{parentName:"span",className:"token string"}," file upload failed."),Object(s.b)("span",{parentName:"span",className:"token template-punctuation string"},"`")),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),"Form",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"Item",Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n#\nform",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"validateFields"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"then"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," formData ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(s.b)("span",{parentName:"code",className:"token class-name"},"FormData"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),"\n\n  formData",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"append"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},"'file'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," file",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"originFileObj",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(s.b)("span",{parentName:"code",className:"token function"},"dispatch"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    type",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'total/multiSheetUpload'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    payload",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," formData",Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("h3",{className:"__internal",id:"style"},"style",Object(s.b)("a",{parentName:"h3",href:"#style","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"css"},Object(s.b)("pre",{parentName:"div",className:"language-css"},Object(s.b)("code",{parentName:"pre",className:"language-css"},"\n",Object(s.b)("span",{parentName:"code",className:"token selector"},".ant-progress-inner")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token property"},"margin-top"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 20px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token property"},"width"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 235px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token selector"},".ant-progress-text")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token property"},"display"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," none ",Object(s.b)("span",{parentName:"code",className:"token important"},"!important"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token selector"},".ant-upload-list-item-info")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token property"},"width"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 270px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(s.b)("span",{parentName:"code",className:"token selector"},".ant-upload-list-item-card-actions-btn.ant-btn-sm")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token property"},"height"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 28px ",Object(s.b)("span",{parentName:"code",className:"token important"},"!important"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token property"},"line-height"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 28px ",Object(s.b)("span",{parentName:"code",className:"token important"},"!important"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token selector"},".ant-popover-inner")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token property"},"width"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 200px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token selector"},".ant-upload-list-item .anticon-close:hover")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token property"},"color"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"rgba"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"0",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," 0",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," 0",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," 0.45",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token selector"},".ant-upload-list-item-info::before")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token property"},"background-color"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," #fff",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token selector"},".ant-upload-list-item:hover .ant-upload-list-item-info")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token property"},"background"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," #fff",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token selector"},".ant-btn-text:hover,\n.ant-btn-text:focus")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token property"},"background-color"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," #fff",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n"))))}l.isMDXComponent=!0,l=Object(c.hot)(e)(l),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(N,"layoutProps","/Users/eternallycyf/Documents/GitHub/case/pluviophobe-react-document/docs/zh/more/ant-design/upload/README.md"),b.register("wrapper","MDXLayout","/Users/eternallycyf/Documents/GitHub/case/pluviophobe-react-document/docs/zh/more/ant-design/upload/README.md"),b.register(l,"MDXContent","/Users/eternallycyf/Documents/GitHub/case/pluviophobe-react-document/docs/zh/more/ant-design/upload/README.md")),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)}.call(this,n(5)(e))}}]);