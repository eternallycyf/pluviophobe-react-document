(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{488:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return y}));var r,o,i=n(148),s=(n(381),n(0)),a=n.n(s),c=n(149),l=["components"];function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var b,f,p=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(c.b)("div",t)}},h=p("RcCard"),m={};function y(e){var t,n,o=e.components,i=d(e,l);return Object(c.b)("wrapper",u({},m,i,{components:o,mdxType:"MDXLayout"}),Object(c.b)("h1",{className:"__internal",id:"usevirtuallist"},"useVirtualList",Object(c.b)("a",{parentName:"h1",href:"#usevirtuallist","aria-hidden":!0,className:"anchor"},"#")),Object(c.b)(h,{cardTitle:"usage",cardExtra:"useIsVisible",content:"const Section = (props) => {\nconst ref = useRef(null)\nconst entry = useVirtualList(ref, {})\nconst isVisible = !!entry?.isIntersecting\nconsole.log(`Render Section ${props.title}`, { isVisible })\nreturn (\n  <div\n    ref={ref}\n    style={{\n      minHeight: '100vh',\n      display: 'flex',\n      border: '1px dashed #000',\n      fontSize: '2rem',\n      width: '100%'\n    }}\n  >\n    {\n      isVisible ? (\n        <div style={{ margin: 'auto' }}>{props.title}</div>\n      ) : \"\"\n    }\n  </div>\n)\n}\nArray.from({ length: 100 }).map((_, index) => (\n  <Section key={index + 1} title={`${index + 1}`} />\n))",code:String.raw(r||(t=["import { RefObject, useEffect, useState } from 'react'\ninterface Args extends IntersectionObserverInit {\n  freezeOnceVisible?: boolean\n}\n/**\n * \n * @param {ReactRef} elementRef The name of the parent box of the incoming virtual list ref\n * @param {object} \n * threshold         threshold 0-1  1 indicates that it is triggered only when it completely appears in the visible area of the screen\n * root              Indicates that the specified root element defaults to a browser viewport for checking target visibility\n * rootMargin        Outer margin of root '0 0 0 0'  \n * freezeOnceVisible Whether the cache slides again without re rendering\n * @returns {Object} entry This object has information about the current viewport \n * Example: entry.isIntersecting Is it within the visual area\n */\nfunction useVirtualList(\n  elementRef: RefObject<Element>,\n  {\n    threshold = 0,\n    root = null,\n    rootMargin = '0%',\n    freezeOnceVisible = false\n  }: Args\n): IntersectionObserverEntry | undefined {\n  const [entry, setEntry] = useState<IntersectionObserverEntry>()\n  const frozen = entry?.isIntersecting && freezeOnceVisible\n  const updateEntry = ([entry]: IntersectionObserverEntry[]): void => {\n    setEntry(entry)\n  }\n  useEffect(() => {\n    const node = elementRef?.current\n    const hasIOSupport = !!window.IntersectionObserver\n    if (!hasIOSupport || frozen || !node) return\n    const observerParams = { threshold, root, rootMargin }\n    const observer = new IntersectionObserver(updateEntry, observerParams)\n    observer.observe(node)\n    return () => observer.disconnect()\n  }, [elementRef, JSON.stringify(threshold), root, rootMargin, frozen])\n  return entry\n}\nexport default useVirtualList"],n||(n=t.slice(0)),r=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})))),descriptionTitle:"useIsVisible-Hook SoundCode",description:Object(c.b)(a.a.Fragment,null,Object(c.b)("h3",null,"Usage scenario"),Object(c.b)("span",null,"1: Virtual rendering"),Object(c.b)("span",null,"2: Lazy loading")),mdxType:"RcCard"}))}y.isMDXComponent=!0,y=Object(i.hot)(e)(y),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(p,"makeShortcode","/Users/eternallycyf/Documents/GitHub/case/pluviophobe-react-document/docs/more/react-hook/use-virtual-list/README.md"),b.register(h,"RcCard","/Users/eternallycyf/Documents/GitHub/case/pluviophobe-react-document/docs/more/react-hook/use-virtual-list/README.md"),b.register(m,"layoutProps","/Users/eternallycyf/Documents/GitHub/case/pluviophobe-react-document/docs/more/react-hook/use-virtual-list/README.md"),b.register("wrapper","MDXLayout","/Users/eternallycyf/Documents/GitHub/case/pluviophobe-react-document/docs/more/react-hook/use-virtual-list/README.md"),b.register(y,"MDXContent","/Users/eternallycyf/Documents/GitHub/case/pluviophobe-react-document/docs/more/react-hook/use-virtual-list/README.md")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}.call(this,n(5)(e))}}]);